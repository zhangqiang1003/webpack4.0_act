"use strict";var _createClass=function(){function a(i,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}}return function(i,t,e){return t&&a(i.prototype,t),e&&a(i,e),i}}();function _classCallCheck(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}$(function(){var i=new(function(){function i(){_classCallCheck(this,i),this.headerEl=$(".new-plugin-header"),this.serviceEl=$(".new-plugin-service"),this.footerEl=$(".new-plugin-footer"),this.headerStr='\n      <div class="header-container">\n      <div class="logo"></div>\n      <div class="menus">\n        <a href="/#/main/index" class="menu">首页</a>\n        <a href="/specials/ljb-overview" class="menu ljb-overview">联机宝</a>\n        <a href="/specials/QeeyouMobile" class="menu mobile-game-menu">手游加速器</a>\n        <a href="/#/main/service" class="menu">服务</a>\n        <a href="/#/main/game" class="menu">游戏</a>\n        <a href="/#/main/help" class="menu">帮助</a>\n        <a href="/#/main/notice" class="menu">资讯/公告</a>\n        <div class="menu-btns">\n          <a class="login">登录</a>\n          <a class="reg active" href="/#/register" target="_blank">免费注册</a>\n        </div>\n        <div class="user-info">\n          <div class="avatar-container">\n            <div class="avatar"></div>\n            <a href="/#/member/center" class="user-account"></a>\n          </div>\n          <div class="user-menu">\n            <a href="/#/member/account/update" class="change-pass">修改密码</a>\n            <a href="" class="user-log-out">退出</a>\n          </div>\n        </div>\n      </div>\n      <div class="login-modal">\n        <div class="modal-container">\n          <span class="close"></span>\n          <div class="modal-logo"></div>\n          <label for="username">\n            <input type="text" id="username" class="user-name" autocomplete="off" placeholder="手机号码/邮箱">\n          </label>\n          <label for="userpass">\n            <input type="password" id="userpass" class="user-pass" autocomplete="new-password" placeholder="密码">\n          </label>\n          <div id="geetest-box"></div>\n          <button class="modal-login-btn">登录</button>\n          <p class="tip">\n            <span><a href="/#/forgot-password">忘记密码？</a></span>\n            <span>没有奇游账号？<a href="/#/register" class="modal-reg">立即注册</a></span>\n          </p>\n        </div>\n      </div>\n    </div>\n      ',this.serviceStr='\n      <div class="service-container">\n      <a class="service-item-wrapper">\n        <div class="service-bg">\n          <div class="service-top-bg"></div>\n          <div class="service-bottom-bg"></div>\n        </div>\n        <div class="service-dis">\n          <h5 class="number">5天</h5>\n          <p class="dis">无理由退款</p>\n        </div>\n      </a>\n      <a class="service-item-wrapper">\n        <div class="service-bg">\n          <div class="service-top-bg"></div>\n          <div class="service-bottom-bg"></div>\n        </div>\n        <div class="service-dis">\n          <h5 class="number">24小时</h5>\n          <p class="dis">技术运维</p>\n        </div>\n      </a>\n      <a class="service-item-wrapper">\n        <div class="service-bg">\n          <div class="service-top-bg"></div>\n          <div class="service-bottom-bg"></div>\n        </div>\n        <div class="service-dis">\n          <h5 class="number">7x12小时</h5>\n          <p class="dis">客服团队支持</p>\n        </div>\n      </a>\n    </div>\n      ',this.footerStr='\n      <div class="footer-container">\n      <div class="top">\n        <div class="left-wrapper">\n          <div class="footer-logo"></div>\n          <div class="left-footer-content">\n            <p class="title">产品中心</p>\n            <a href="/specials/ljb-overview" target="_blank">联机宝</a>\n            <a href="/#/main/index" target="_blank">Windows客户端</a>\n            <a href="/specials/QeeyouMobile" target="_blank">手游加速器</a>\n          </div>\n          <div class="left-footer-content">\n            <p class="title">服务中心</p>\n            <a href="/#/main/notice/103">充值指南</a>\n            <a href="/#/main/service">套餐选择</a>\n            <a href="/#/main/notice/104">支付方式</a>\n            <a href="/#/main/notice/27">售后政策</a>\n          </div>\n          <div class="left-footer-content">\n            <p class="title">关于</p>\n            <a href="http://www.junyun.jobs/">关于我们</a>\n            <a href="http://www.junyun.jobs/">诚征英才</a>\n            <a href="/#/main/notice/83">用户协议</a>\n            <a href="/#/main/brand-intro">品牌</a>\n          </div>\n        </div>\n        <div class="right-wrapper">\n          <div class="contact-us">\n            <h5 class="phone">0871-65099992</h5>\n            <p class="time">周一至周日 9:30-21:30</p>\n          </div>\n          <div class="cell-center">\n            <a href="https://www.sobot.com/chat/pc/index.html?sysNum=072c38afdfa44956a84fc2fcc697b069" target="_blank" class="online">在线客服</a>\n            <a href="http://wpa.qq.com/msgrd?v=3&uin=1205205970&site=qq&menu=yes" target="_blank" class="complain">投诉建议</a>\n            <div class="shares">\n              <div class="share-item weixin">\n                <div class="share-qrcode">\n                  <div class="qrcode-item">\n                    <div class="qrcode weixin"></div>\n                    <p>奇游电竞加速器</p>\n                  </div>\n                </div>\n              </div>\n              <div class="share-item weibo">\n                <div class="share-qrcode weibo-share">\n                  <div class="qrcode-item">\n                    <div class="qrcode weibo"></div>\n                    <p>\n                      <a href="https://weibo.com/u/3647878343" target="_blank">奇游电竞加速器</a>\n                    </p>\n                  </div>\n                  <div class="qrcode-item">\n                    <div class="qrcode weibo-ljb"></div>\n                    <p>\n                      <a href="https://weibo.com/u/6415004550" target="_blank">奇游联机宝</a>\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="line"></div>\n      <div class="bottom">\n        <div class="info">\n          <p class="copyright">\n            <span>©2014-2018 奇游电竞加速器 All Rights Reserved </span>\n            <span>昆明俊云科技有限公司</span>\n          </p>\n          <p class="put-on-records ">滇公网安备 53010302000130号 滇ICP备14005523号-1 ICP证编号：滇B2-20160043</p>\n        </div>\n      </div>\n    </div>\n      ',this.rightBtnStr='<div class="new-plugin-right-buttons">\n      <div class="item activity-btn" title="限时活动"><span></span></div>\n      <div class="activities-wrapper">\n      </div>\n      <div class="item zhi-chi zhiCustomBtn" id="zhichiScript" title="在线客服"><span></span></div>\n      <div class="item to-top" title="返回顶部"><span></span></div>\n    </div>',this.activityStr='<div class="activity-mask">\n        <div class="relative activity-wrapper">\n            <div class="activity-close">\n                <img src="/static/specials/images/close40x40.png">\n            </div>\n            <div class="activity-replace01">\n              <div class="right-btn-swiper-container">\n                <div class="swiper-wrapper">\n                </div>\n              </div>\n            </div>\n        </div>\n        <div>\n            <div class="activity-replace02">\n            </div>\n         </div>\n       </div>',this.loginStatus=!1,this.geestRight=!1,this.userName="",this.userPass="",this.captchaObj=null,this.activityShow=!1,this.activityData=[],this.rightSwiper=null}return _createClass(i,[{"key":"init","value":function(){var t=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"white";$($("head")[0]).append('<link rel="stylesheet" type="text/css" href="/static/specials/css/swiper4.3.5.css">'),$($("head")[0]).append('<script src="/static/specials/js/swiper4.3.5.js"><\/script>'),"dark"===i&&$("body").addClass("dark"),this.headerEl.html(this.headerStr),this.serviceEl.html(this.serviceStr),this.footerEl.html(this.footerStr),$("body").append(this.rightBtnStr),this.scrollDirection(),this.showToTopBtn(),this.toTop(),this.jionUpZhiChi(),this.getLoginStatus(),this.getActivity(),$(this.headerEl).on("click",".login",function(){t.showLoginModal()}),$(this.headerEl).on("click",".close",function(){t.closeLoginModal()}),$(this.headerEl).on("input propertychange","input",function(i){t.userName=$(t.headerEl).find(".user-name").val(),t.userPass=$(t.headerEl).find(".user-pass").val(),t.userName&&t.userPass?$(t.headerEl).find(".modal-login-btn").addClass("active"):$(t.headerEl).find(".modal-login-btn").removeClass("active")}),$(this.headerEl).on("click",".user-log-out",function(){t.logOut()}),"/specials/QeeyouMobile"===window.location.pathname&&$(".new-plugin-header").find(".mobile-game-menu").addClass("active"),"/specials/ljb-overview"===window.location.pathname&&$(".new-plugin-header").find(".ljb-overview").addClass("active")}},{"key":"getActivity","value":function(){var n=this;$.ajax({"type":"post","url":"/api/category/index","dataType":"json","data":{"web_type":"PC"},"success":function(i){if(n.activityData=i.data,0<n.activityData.length){$("body").find(".new-plugin-right-buttons .activity-btn").css({"display":"flex","opacity":1});var t="";n.activityData.forEach(function(i){t+='<a href="'+i.link+'" class="activity-menu" title="'+i.title+'">'+i.title+"</a>"}),$("body").find(".activities-wrapper").html(t),n.setAnimaitionOrigin(),$(".new-plugin-right-buttons .activity-btn").css("display","flex"),$(".new-plugin-right-buttons").on("click",".activity-btn",function(){if(!1===n.activityShow){$("body").append(n.activityStr);var e="",a="";n.activityData.forEach(function(i,t){e+='\n                  <div class="right-btn-activity swiper-slide">\n                  <a href="'+i.link+'">\n                      <img src="'+i.image+'" class="act-img">\n                  </a>\n                  </div>\n                  ',a+='<div data-index="'+t+'" class="activity-item '+(0===t?"activity-item-active":"")+'">\n                                            <div class="activity-item-bg"></div>\n                                            <div class="activity-item-inner">'+i.title+"</div>\n                                        </div>"}),$(".activity-mask .activity-replace01 .swiper-wrapper").html(e),$(".activity-mask .activity-replace02").html(a),setTimeout(function(){$(".activity-mask").addClass("activity-animate-in"),setTimeout(function(){$(".activity-mask").css("opacity",1),n.activityShow=!0},500)},0),setTimeout(function(){n.rightSwiper=new Swiper(".right-btn-swiper-container",{"loop":!1,"autoplay":!0,"on":{"slideChangeTransitionEnd":function(){var i=this.activeIndex;$("body").find(".activity-mask").find(".activity-item").removeClass("activity-item-active"),$("body").find(".activity-mask").find("[data-index='"+i+"']").addClass("activity-item-active")}}},1e3)})}}),$("body").on("click",".activity-close",function(){!0===n.activityShow&&($(".activity-mask").removeClass("activity-animate-in"),setTimeout(function(){$(".activity-mask").addClass("activity-animate-out"),setTimeout(function(){$(".activity-mask").remove(),n.activityShow=!1},800)},0))}),$("body").on("click",".activity-mask .activity-item",function(){$(this).siblings().removeClass("activity-item-active"),$(this).addClass("activity-item-active");var i=$(this).attr("data-index");n.rightSwiper.slideTo(i)})}}})}},{"key":"setAnimaitionOrigin","value":function(){var i=$("body").find(".new-plugin-right-buttons").find(".activity-btn").offset().top-$(window).scrollTop();console.log(i);var t='<style id="activity-mask-style" type="text/css">\n                                      .activity-mask {\n                                          transform-origin: '+100*($(window).width()-28)/$(window).width()+"% "+100*(i+28)/$(window).height()+"%;\n                                      }\n                                 </style>";$("head").append(t),$(window).resize(function(){var i=$("body").find(".new-plugin-right-buttons").find(".activity-btn").offset().top-$(window).scrollTop(),t='<style id="activity-mask-style" type="text/css">\n                                      .activity-mask {\n                                          transform-origin: '+100*($(window).width()-28)/$(window).width()+"% "+100*(i+28)/$(window).height()+"%;\n                                      }\n                                 </style>";$("head").append(t)})}},{"key":"scrollDirection","value":function(){var e=!0,a=$(document).scrollTop();$(window).on("scroll",function(){var i=$(document).scrollTop(),t=i-a;10<=t?e&&($(".new-plugin-header").stop().animate({"top":"-100px"},100,"linear"),e=!1):t<-10&&($(".new-plugin-header").stop().animate({"top":"0px"},100,"linear"),e=!0),a=i})}},{"key":"toTop","value":function(){$(".new-plugin-right-buttons").on("click",".to-top",function(){$("body,html").animate({"scrollTop":0},500)})}},{"key":"showToTopBtn","value":function(){var i=this;$(window).on("scroll",function(){300<$(document).scrollTop()?$(".new-plugin-right-buttons").find(".to-top").css("opacity","1"):$(".new-plugin-right-buttons").find(".to-top").css("opacity","0"),i.setAnimaitionOrigin()})}},{"key":"jionUpZhiChi","value":function(){var i=getzhiSDKInstance();i.on("load",function(){i.initBtnDOM()}),i.set("title","在线客服"),i.set("customBtn","true"),i.set("size",{"width":480,"height":620}),i.set("customMargin",100)}},{"key":"geestInit","value":function(){var e=this;$.ajax({"type":"get","url":"/api/front/get_captcha","dataType":"json","success":function(i){initGeetest({"gt":i["gt"],"challenge":i["challenge"],"offline":!i["success"],"new_captcha":!0,"product":"bind","width":"100%"},function(t){e.captchaObj=t,e.captchaObj.appendTo("#geetest-box"),e.captchaObj.onSuccess(function(){var i=t.getValidate();$.ajax({"url":"/api/front/captcha_valid","type":"POST","dataType":"json","data":{"geetest_challenge":i.geetest_challenge,"geetest_validate":i.geetest_validate,"geetest_seccode":i.geetest_seccode}}).done(function(i){"success"==i.status?(e.geestRight=!0,e.login(e.userName,e.userPass),e.userName&&e.userPass&&$(e.headerEl).find(".modal-login-btn").addClass("active")):window.alert("验证失败，请重新验证！")})}),$(e.headerEl).on("click",".modal-login-btn",function(){e.userPass&&e.userName&&t.verify()}),e.captchaObj.onError(function(i){console.log(i)})})}})}},{"key":"showLoginModal","value":function(){$(this.headerEl).find(".login-modal").addClass("active"),this.geestInit()}},{"key":"closeLoginModal","value":function(){$(this.headerEl).find(".login-modal").removeClass("active"),$(this.headerEl).find("#geetest-box").html("")}},{"key":"getLoginStatus","value":function(){var t=this;$.ajax({"type":"post","url":"/api/front/login_status_check","dataType":"json","success":function(i){200==i.status?(t.loginStatus=!0,$(t.headerEl).find(".user-account").text(i.member.member_name),$(t.headerEl).find(".menu-btns").addClass("hide"),$(t.headerEl).find(".user-info").addClass("active")):t.loginStatus=!1}})}},{"key":"login","value":function(i,t){var a=this;$.post("/api/front/login",{"csrf":"414c7ad55625f289003613764448a055","username":i,"pwd":t},function(i,t,e){1==(i=JSON.parse(i)).status?window.location.reload(!0):(layer.msg(i.msg),$(this.headerEl).find("#geetest-box").empty(),a.captchaObj.reset())})}},{"key":"logOut","value":function(){$.ajax({"type":"post","url":"/api/front/logout","dataType":"json","success":function(i){window.location.reload()}})}}]),i}());window.newPlugin=i});